---
import { getCollection } from 'astro:content';
import Layout from '../layouts/Layout.astro';

const allPlants = await getCollection('species');
const brand = { emerald: "#042f2e", gold: "#D4AF37", softWhite: "#fcfcfc" };
---

<Layout title="SABM Sovereign Registry">
  <main style={`background: ${brand.emerald}; min-height: 100vh; padding: 60px 5%; font-family: serif; color: white;`}>
    <header style="text-align: center; margin-bottom: 80px;">
      <h1 style={`color: ${brand.gold}; font-size: 3.5rem; font-style: italic; margin: 0;`}>The Sovereign Botanical Registry</h1>
      <p style="letter-spacing: 4px; text-transform: uppercase; opacity: 0.8;">Intelligence Portal | 2026 Edition</p>
      <div style={`width: 100px; height: 2px; background: ${brand.gold}; margin: 20px auto;`}></div>
    </header>

    <div style="max-width: 1200px; margin: 0 auto; display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 30px;">
      {allPlants.map(plant => (
        <a href={`/species/${plant.id}`} style="text-decoration: none; color: inherit; transition: transform 0.3s ease;">
          <div style={`border: 1px solid ${brand.gold}; background: rgba(255,255,255,0.05); padding: 30px; height: 100%; display: flex; flex-direction: column; justify-content: space-between;`}>
            <div>
              <h2 style={`color: ${brand.gold}; margin: 0 0 10px 0; font-size: 1.8rem;`}>{plant.data.name}</h2>
              <p style="font-style: italic; font-size: 0.9rem; opacity: 0.7; margin-bottom: 20px;">{plant.data.scientific_name}</p>
              <p style="line-height: 1.6; font-family: sans-serif; font-size: 0.95rem;">{plant.data.description}</p>
            </div>
            <div style={`margin-top: 20px; font-size: 0.8rem; text-transform: uppercase; letter-spacing: 2px; color: ${brand.gold};`}>
              Access Intelligence â†’
            </div>
          </div>
        </a>
      ))}
    </div>
  </main>
</Layout>
